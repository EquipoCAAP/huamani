@model sb_admin.web.Models.DashboardViewModel
@{
    ViewBag.Title = "Inicio";
}


    <div class="container-fluid">

        <!-- Page Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">
                    Tablero <small>Resumen</small>
                </h1>
                <ol class="breadcrumb">
                    <li class="active">
                        <i class="fa fa-dashboard"></i> Datos
                    </li>
                </ol>
            </div>
        </div>
        <!-- /.row -->


        <div class="row">
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-tasks fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">@Model.casos_count</div>
                                <div>Casos Activos</div>
                            </div>
                        </div>
                    </div>
                    <a href="~/casos/Index">
                        <div class="panel-footer">
                            <span class="pull-left">Ver Detalles</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-green">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-file fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">@Model.expedientes_count</div>
                                <div>Expedientes!</div>
                            </div>
                        </div>
                    </div>
                    <a href="~/expedientes/Index">
                        <div class="panel-footer">
                            <span class="pull-left">Ver Detalles</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-yellow">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-clock-o fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">@Model.eventos_count</div>
                                <div>Eventos</div>
                            </div>
                        </div>
                    </div>
                    <a href="~/eventos/Index">
                        <div class="panel-footer">
                            <span class="pull-left">Ver Detalles</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="panel panel-red">
                    <div class="panel-heading">
                        <div class="row">
                            <div class="col-xs-3">
                                <i class="fa fa-support fa-5x"></i>
                            </div>
                            <div class="col-xs-9 text-right">
                                <div class="huge">@Model.tareas_count</div>
                                <div>Tareas</div>
                            </div>
                        </div>
                    </div>
                    <a href="~/tareas/Index">
                        <div class="panel-footer">
                            <span class="pull-left">Ver Detalles</span>
                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                            <div class="clearfix"></div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <!-- /.row -->
        <!--  <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-bar-chart-o fa-fw"></i> Area Chart</h3>
                </div>
                <div class="panel-body">
                    <div id="morris-area-chart"></div>
                </div>
            </div>
        </div>
    </div>
            -->
        <!-- /.row -->

        <div class="row">
            <div class="col-lg-4">
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-book fa-fw"></i> Casos</h3>
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover table-striped">
                                <thead>
                                    <tr>
                                        <th>Ref.</th>
                                        <th>Fecha</th>
                                        <th>Responsable</th>

                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in Model.casos.OrderByDescending(c => c.fecha_creacion).Take(6))
                                    {
                                        <tr style="text-wrap:normal;font-size:smaller">
                                            <td>
                                                @Html.ActionLink(item.referencia, "Details", "casos", new { Id = item.id }, null /* html attributes */)
                                            </td>
                                            <td>
                                                <span class="label label-info"> @Html.DisplayFor(modelItem => item.fecha_creacion)</span>
                                            </td>
                                            <td>
                                                @{
                                                    var persona = Model.personas.Where(c => c.id == item.responsableId).Select(c => new { c.NombreCompleto });
                                                }
                                                @persona.First().NombreCompleto
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div class="text-right">
                            <a href="~/casos/Index">Ver todos los casos <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="panel panel-success">
                    <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-file-archive-o fa-fw"></i> Expedientes</h3>
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover table-striped">
                                <thead>
                                    <tr>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Expedientes.FirstOrDefault().titulo)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Expedientes.FirstOrDefault().fechacreacion)
                                        </th>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Expedientes.FirstOrDefault().ubicacion.ubicacion1)
                                        </th>
                                      
                                        <th>
                                            @Html.DisplayNameFor(model => model.Expedientes.FirstOrDefault().estadoExpediente.estado)
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in Model.Expedientes.OrderByDescending(c => c.fechacreacion).Take(6))
                                    {
                                    <tr style="text-wrap:normal;font-size:smaller">
                                        <td>
                                            @Html.ActionLink(item.titulo, "Details", "expedientes", new { Id = item.id }, null /* html attributes */)
                                            
                                        </td>
                                        <td>
                                            <span class="label label-info"> @Html.DisplayFor(modelItem => item.fechacreacion)</span>
</td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.ubicacion.ubicacion1)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.estadoExpediente.estado)
                                        </td>
                                    </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <div class="text-right">
                            <a href="~/expedientes/Index">Ver todos los Expedientes <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            @*<div class="col-lg-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title"><i class="fa fa-clock-o fa-fw"></i> Expedientes</h3>
                </div>
                <div class="panel-body">
                    <div class="list-group">
                        <a href="#" class="list-group-item">
                            <span class="badge">just now</span>
                            <i class="fa fa-fw fa-calendar"></i> Calendar updated
                        </a>
                        <a href="#" class="list-group-item">
                            <span class="badge">4 minutes ago</span>
                            <i class="fa fa-fw fa-comment"></i> Commented on a post
                        </a>
                        <a href="#" class="list-group-item">
                            <span class="badge">23 minutes ago</span>
                            <i class="fa fa-fw fa-truck"></i> Order 392 shipped
                        </a>
                        <a href="#" class="list-group-item">
                            <span class="badge">46 minutes ago</span>
                            <i class="fa fa-fw fa-money"></i> Invoice 653 has been paid
                        </a>
                        <a href="#" class="list-group-item">
                            <span class="badge">1 hour ago</span>
                            <i class="fa fa-fw fa-user"></i> A new user has been added
                        </a>
                        <a href="#" class="list-group-item">
                            <span class="badge">2 hours ago</span>
                            <i class="fa fa-fw fa-check"></i> Completed task: "pick up dry cleaning"
                        </a>
                        <a href="#" class="list-group-item">
                            <span class="badge">yesterday</span>
                            <i class="fa fa-fw fa-globe"></i> Saved the world
                        </a>
                        <a href="#" class="list-group-item">
                            <span class="badge">two days ago</span>
                            <i class="fa fa-fw fa-check"></i> Completed task: "fix error on sales page"
                        </a>
                    </div>
                    <div class="text-right">
                        <a href="#">View All Activity <i class="fa fa-arrow-circle-right"></i></a>
                    </div>
                </div>
            </div>
        </div>*@

            <div class="col-lg-2">
                <div class="panel panel-danger">
                    <div class="panel-heading">
                        <h3 class="panel-title"><i class="fa fa-long-arrow-right fa-fw"></i> Tareas</h3>
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-bordered table-hover table-striped">
                                <thead>
                                    <tr>
                                        <th>
                                            @Html.DisplayNameFor(model => model.Tareas.FirstOrDefault().tarea1)
                                        </th>
                                       
                                        <th>
                                            @Html.DisplayNameFor(model => model.Tareas.FirstOrDefault().estadoId)
                                        </th>
                                       
                                       
                                        
                                    </tr>
                                </thead>
                                <tbody>

                                    @foreach (var item in Model.Tareas.OrderByDescending(t=>t.prioridadId).Take(6))
                                    {
                                    <tr style="text-wrap:normal;font-size:smaller">
                                        <td>
                                            @Html.DisplayFor(modelItem => item.tarea1)
                                        </td>
                                       
                                        <td>
                                            @Html.DisplayFor(modelItem => item.estadoId)
                                        </td>
                                       
                                       
                                       
                                    </tr>
                                    }
                                </tbody>
                            </table>


                        </div>
                        <div class="text-right">
                            <a href="~/tareas/Index">Ver todas tareas <i class="fa fa-arrow-circle-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->

    </div>
    <!-- /.container-fluid -->


   